<!DOCTYPE html>
<html>
<head>
    <title>Weather Prediction</title>
</head>
<body>
    <h2>Weather Prediction</h2>

    <!-- Input fields -->
    <label>Summary: </label>
    <input type="text" id="Summary"><br><br>

    <label>Temperature (C): </label>
    <input type="number" id="Temperature (C)"><br><br>

    <label>Apparent Temperature (C): </label>
    <input type="number" id="Apparent Temperature (C)"><br><br>

    <label>Humidity: </label>
    <input type="number" step="0.01" id="Humidity"><br><br>

    <label>Wind Speed (km/h): </label>
    <input type="number" id="Wind Speed (km/h)"><br><br>

    <label>Wind Bearing (degrees): </label>
    <input type="number" id="Wind Bearing (degrees)"><br><br>

    <label>Visibility (km): </label>
    <input type="number" id="Visibility (km)"><br><br>

    <label>Pressure (millibars): </label>
    <input type="number" id="Pressure (millibars)"><br><br>

    <label>Year: </label>
    <input type="number" id="Year"><br><br>

    <label>Month: </label>
    <input type="number" id="Month"><br><br>

    <label>Day: </label>
    <input type="number" id="day"><br><br>

    <label>Time: </label>
    <input type="number" id="time"><br><br>

    <button onclick="predictWeather()">Predict</button>

    <h3>Result:</h3>
    <p id="result"></p>

    <script>
        function predictWeather() {
            // Collect input values
            const data = [{
                "Summary": document.getElementById("Summary").value,
                "Temperature (C)": parseFloat(document.getElementById("Temperature (C)").value),
                "Apparent Temperature (C)": parseFloat(document.getElementById("Apparent Temperature (C)").value),
                "Humidity": parseFloat(document.getElementById("Humidity").value),
                "Wind Speed (km/h)": parseFloat(document.getElementById("Wind Speed (km/h)").value),
                "Wind Bearing (degrees)": parseFloat(document.getElementById("Wind Bearing (degrees)").value),
                "Visibility (km)": parseFloat(document.getElementById("Visibility (km)").value),
                "Pressure (millibars)": parseFloat(document.getElementById("Pressure (millibars)").value),
                "Year": parseInt(document.getElementById("Year").value),
                "Month": parseInt(document.getElementById("Month").value),
                "day": parseInt(document.getElementById("day").value),
                "time": parseInt(document.getElementById("time").value)
            }];

            // Call Flask API
            fetch("http://127.0.0.1:5000/predict", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                document.getElementById("result").innerHTML =
                    `Prediction: ${result['based on the features given, it will']}<br>
                     Probability of Rain: ${result['probability of rain is']}<br>
                     Probability of Not Raining: ${result['probability of not raining is']}`;
            })
            .catch(error => {
                console.error("Error:", error);
                document.getElementById("result").innerText = "Error fetching prediction.";
            });
        }
    </script>
</body>
</html>
